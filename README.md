# Virtual Coding Lab üöÄ

An interactive platform for students and teachers to collaborate on coding exercises with real-time features, multi-language support, and instant feedback.

## ‚ú® Features

### For Teachers
- **Instant Lab Creation**: Create coding lab sessions in seconds with unique 6-character join codes
- **Student Management**: View all participating students in real-time
- **Live Code Monitoring**: See all student code submissions as they work
- **Announcement Channel**: Broadcast messages to all students in the lab
- **One-on-One Chat**: Private messaging with individual students for personalized help
- **Multi-Language Support**: View student code in 20+ programming languages

### For Students
- **Easy Lab Joining**: Join labs using simple 6-character codes
- **Advanced Code Editor**: Monaco Editor (VS Code engine) with syntax highlighting
- **Multi-File Support**: Create and manage multiple code files within a lab session
- **20+ Programming Languages**: Write code in Python, JavaScript, Java, C++, and more
- **Code Compilation**: Execute code using Judge0 API with custom input testing
- **Real-Time Communication**: Chat directly with teachers and receive announcements
- **Auto-Save**: Code is automatically saved to prevent loss

## üõ†Ô∏è Technology Stack

- **Frontend**: Next.js 15, React, TypeScript, Tailwind CSS
- **UI Components**: Shadcn/UI, Monaco Editor
- **Backend**: Next.js API Routes
- **Database**: Turso (SQLite)
- **ORM**: Drizzle ORM
- **Authentication**: Better Auth
- **Code Execution**: Judge0 API
- **Real-Time Updates**: Polling (3-second intervals)

## üì¶ Installation

1. **Clone the repository**
```bash
git clone <repository-url>
cd virtual-coding-lab
```

2. **Install dependencies**
```bash
bun install
# or
npm install --legacy-peer-deps
```

> **Note**: Use `--legacy-peer-deps` flag with npm to handle peer dependency conflicts between packages.

3. **Environment Setup**

The following environment variables are already configured in `.env`:
```env
TURSO_CONNECTION_URL=<your-turso-url>
TURSO_AUTH_TOKEN=<your-turso-token>
BETTER_AUTH_SECRET=<auto-generated>
```

**Optional**: Add Judge0 API key for code execution:
```env
JUDGE0_API_KEY=your_rapidapi_key_here
```

> **Note**: Without a Judge0 API key, the platform will use the free tier with "test" key. For production, get a RapidAPI key from [Judge0 on RapidAPI](https://rapidapi.com/judge0-official/api/judge0-ce).

4. **Run database migrations**
```bash
bun run db:push
# or
npm run db:push
```

5. **Start the development server**
```bash
bun dev
# or
npm run dev
```

6. **Open your browser**
Navigate to [http://localhost:3000](http://localhost:3000)

## üöÄ Quick Start Guide

### For Teachers

1. **Sign Up**
   - Go to `/signup`
   - Select "Teacher" role
   - Fill in your details and create account

2. **Create a Lab**
   - Navigate to Teacher Dashboard
   - Click "Create New Lab"
   - Enter lab title and description
   - Share the generated 6-character code with students

3. **Monitor Students**
   - Open the lab session
   - View announcements, student list, and code submissions
   - Chat with students individually
   - Monitor real-time code changes

### For Students

1. **Sign Up**
   - Go to `/signup`
   - Select "Student" role
   - Fill in your details and create account

2. **Join a Lab**
   - Navigate to Student Dashboard
   - Click "Join New Lab"
   - Enter the 6-character code from your teacher
   - Start coding!

3. **Work on Code**
   - Select programming language
   - Write your code in the editor
   - Add custom input for testing
   - Run code to see output
   - Save your work
   - Chat with teacher if you need help

## üéØ Supported Programming Languages

The platform supports 20+ languages via Judge0 API:

- Python, JavaScript, TypeScript, Java, C++, C, C#
- Kotlin, PHP, Ruby, Rust, Go, Swift, Scala
- R, Perl, SQL, and more

## üìö API Routes

### Authentication
- `POST /api/auth/signup` - User registration
- `POST /api/auth/signin` - User login

### User Management
- `POST /api/users/create` - Create user profile with role
- `GET /api/users/[id]` - Get user details

### Lab Sessions
- `GET /api/labs` - List user's lab sessions
- `POST /api/labs` - Create new lab (teacher only)
- `GET /api/labs/[id]` - Get lab details
- `POST /api/labs/join` - Join lab with code (student only)

### Lab Features
- `GET /api/labs/[id]/participants` - List lab participants
- `GET /api/labs/[id]/announcements` - Get announcements
- `POST /api/labs/[id]/announcements` - Create announcement (teacher)
- `GET /api/labs/[id]/chat` - Get chat messages
- `POST /api/labs/[id]/chat` - Send chat message
- `GET /api/labs/[id]/code` - Get code files
- `POST /api/labs/[id]/code` - Submit/update code
- `GET /api/labs/[id]/all-code` - Get all students' code (teacher)

### Code Execution
- `POST /api/judge0/execute` - Execute code via Judge0

## üóÑÔ∏è Database Schema

### Tables

1. **users** - User profiles with roles (teacher/student)
2. **labSessions** - Lab sessions with unique codes
3. **labParticipants** - Student lab enrollments
4. **labAnnouncements** - Lab announcements
5. **labChats** - Private and public chat messages
6. **labCodes** - Code file submissions
7. **user, session, account, verification** - Better Auth tables

## üîê Security Features

- **Role-Based Access Control**: Separate permissions for teachers and students
- **Session Management**: Secure JWT-based authentication
- **Protected Routes**: Middleware protection for authenticated pages
- **Input Validation**: Server-side validation for all API endpoints

## üîÑ Real-Time Features

The platform implements real-time updates using polling:
- **3-second polling** for announcements and chat messages
- **Auto-refresh** for code submissions and participant lists
- **Live updates** without page refresh

## üì± Responsive Design

- Fully responsive layout for mobile, tablet, and desktop
- Adaptive grid system for different screen sizes
- Touch-friendly interface for mobile devices

## üôè Acknowledgments

- [Judge0](https://judge0.com/) - Code execution engine
- [Monaco Editor](https://microsoft.github.io/monaco-editor/) - Code editor
- [Better Auth](https://www.better-auth.com/) - Authentication
- [Shadcn/UI](https://ui.shadcn.com/) - UI components
- [Drizzle ORM](https://orm.drizzle.team/) - Database ORM

## üìû Support

For issues, questions, or contributions, please open an issue on GitHub.

## üë®‚Äçüíª Author

**Abhishodh N K**

**Built with ‚ù§Ô∏è for educators and students worldwide**
